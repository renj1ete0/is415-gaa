<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Teo Ren Jie">
<meta name="dcterms.date" content="2023-03-12">
<meta name="description" content="Conducting a Spatial-Temporal Analysis of COVID-19 trends at Sub-district level in Jarkata, Indonesia between June 2021 to May 2022">

<title>Ren Jie’s IS415 Journal - Take-Home Exercise 03: Predicting HDB Public Housing Resale Prices Using Geographically Weighted Methods</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Ren Jie’s IS415 Journal</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-On Exercise</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../exercises/hoex1.html">
 <span class="dropdown-text">Hands-On Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/hoex2.html">
 <span class="dropdown-text">Hands-On Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/hoex3.html">
 <span class="dropdown-text">Hands-On Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/icex04.html">
 <span class="dropdown-text">Hands-On Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/hoex5.html">
 <span class="dropdown-text">Hands-On Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/hoex8.html">
 <span class="dropdown-text">Hands-On Exercise 8</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-Class Exercise</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../exercises/icex02.html">
 <span class="dropdown-text">In-Class Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/icex03.html">
 <span class="dropdown-text">In-Class Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/icex04.html">
 <span class="dropdown-text">In-Class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/icex05.html">
 <span class="dropdown-text">In-Class Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/icex06.html">
 <span class="dropdown-text">In-Class Exercise 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/icex07.html">
 <span class="dropdown-text">In-Class Exercise 7</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/icex08.html">
 <span class="dropdown-text">In-Class Exercise 8</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take-home Exercise</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../exercises/thex01.html">
 <span class="dropdown-text">Take-home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/thex02.html">
 <span class="dropdown-text">Take-home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/thex03.html">
 <span class="dropdown-text">Take-home Exercise 3</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/renjie-teo"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/renjieteo/"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Take-Home Exercise 03: Predicting HDB Public Housing Resale Prices Using Geographically Weighted Methods</h1>
                  <div>
        <div class="description">
          Conducting a Spatial-Temporal Analysis of COVID-19 trends at Sub-district level in Jarkata, Indonesia between June 2021 to May 2022
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Take-Home Exercise</div>
                <div class="quarto-category">sf</div>
                <div class="quarto-category">readXL</div>
                <div class="quarto-category">tidyverse</div>
                <div class="quarto-category">tmap</div>
                <div class="quarto-category">sfdep</div>
                <div class="quarto-category">gifski</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Teo Ren Jie </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 12, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="toc-section-number">1</span>  Overview</a>
  <ul class="collapse">
  <li><a href="#setting-the-scene" id="toc-setting-the-scene" class="nav-link" data-scroll-target="#setting-the-scene"><span class="toc-section-number">1.1</span>  Setting the Scene</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives"><span class="toc-section-number">1.2</span>  Objectives</a></li>
  <li><a href="#tasks" id="toc-tasks" class="nav-link" data-scroll-target="#tasks"><span class="toc-section-number">1.3</span>  Tasks</a></li>
  </ul></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started"><span class="toc-section-number">2</span>  Getting Started</a>
  <ul class="collapse">
  <li><a href="#installing-and-loading-packages" id="toc-installing-and-loading-packages" class="nav-link" data-scroll-target="#installing-and-loading-packages"><span class="toc-section-number">2.1</span>  Installing and Loading Packages</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"><span class="toc-section-number">2.2</span>  </a></li>
  <li><a href="#data-acquisition" id="toc-data-acquisition" class="nav-link" data-scroll-target="#data-acquisition"><span class="toc-section-number">2.3</span>  Data Acquisition</a></li>
  <li><a href="#data-fields" id="toc-data-fields" class="nav-link" data-scroll-target="#data-fields"><span class="toc-section-number">2.4</span>  Data Fields</a></li>
  </ul></li>
  <li><a href="#data-wrangling-aspatial-data" id="toc-data-wrangling-aspatial-data" class="nav-link" data-scroll-target="#data-wrangling-aspatial-data"><span class="toc-section-number">3</span>  Data Wrangling: Aspatial Data</a>
  <ul class="collapse">
  <li><a href="#importing-aspatial-data" id="toc-importing-aspatial-data" class="nav-link" data-scroll-target="#importing-aspatial-data"><span class="toc-section-number">3.1</span>  Importing Aspatial Data</a></li>
  <li><a href="#filtering-hdb-resale-flat-data" id="toc-filtering-hdb-resale-flat-data" class="nav-link" data-scroll-target="#filtering-hdb-resale-flat-data"><span class="toc-section-number">3.2</span>  Filtering HDB Resale Flat Data</a></li>
  <li><a href="#transforming-aspatial-data---create-new-columns-with-values" id="toc-transforming-aspatial-data---create-new-columns-with-values" class="nav-link" data-scroll-target="#transforming-aspatial-data---create-new-columns-with-values"><span class="toc-section-number">3.3</span>  Transforming Aspatial Data - Create New Columns with Values</a></li>
  <li><a href="#retrieving-svy21-coordinate-of-addresses" id="toc-retrieving-svy21-coordinate-of-addresses" class="nav-link" data-scroll-target="#retrieving-svy21-coordinate-of-addresses"><span class="toc-section-number">3.4</span>  Retrieving SVY21 Coordinate of Addresses</a>
  <ul class="collapse">
  <li><a href="#create-a-list-storing-unique-addressespostal-codes" id="toc-create-a-list-storing-unique-addressespostal-codes" class="nav-link" data-scroll-target="#create-a-list-storing-unique-addressespostal-codes"><span class="toc-section-number">3.4.1</span>  Create a List Storing Unique Addresses/Postal Codes</a></li>
  </ul></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"><span class="toc-section-number">3.5</span>  </a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="overview" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Overview</h1>
<section id="setting-the-scene" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="setting-the-scene"><span class="header-section-number">1.1</span> Setting the Scene</h2>
<p>&lt;add context&gt;</p>
<p>bal bla we are lookign at 5 storey HDB bla bla</p>
</section>
<section id="objectives" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="objectives"><span class="header-section-number">1.2</span> Objectives</h2>
<p>Exploratory Spatial Data Analysis (ESDA) hold tremendous potential to address complex problems facing society. In this study, you are tasked to apply appropriate Local Indicators of Spatial Association (LISA) and Emerging Hot Spot Analysis (EHSA) to undercover the spatio-temporal trends of COVID-19 vaccination in DKI Jakarta.</p>
</section>
<section id="tasks" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="tasks"><span class="header-section-number">1.3</span> Tasks</h2>
<p>In this take-home exercise, you are tasked to predict HDB resale prices at the sub-market level (i.e.&nbsp;HDB 3-room, HDB 4-room and HDB 5-room) for the month of January and February 2023 in Singapore. The predictive models must be built by using by using conventional OLS method and GWR methods. You are also required to compare the performance of the conventional OLS method versus the geographical weighted methods.</p>
</section>
</section>
<section id="getting-started" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Getting Started</h1>
<section id="installing-and-loading-packages" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="installing-and-loading-packages"><span class="header-section-number">2.1</span> Installing and Loading Packages</h2>
<p>Next, pacman assists us by helping us load R packages that we require, <code>sf</code>, <code>tidyverse</code> and funModeling.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(readxl, sf, tidyverse, tmap, sfdep, gifski, httr, jsonlite)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The following packages assists us to accomplish the following:</p>
<ul>
<li><p><em>readxl</em> assists us in importing <code>.xlsx</code> aspatial data without having to convert to <code>.csv</code></p></li>
<li><p><em>sf</em> helps to import, manage and process vector-based geospatial data in R</p></li>
<li><p><em>tidyverse</em> which includes <em>readr</em> to import delimited text file, <em>tidyr</em> for tidying data and <em>dplyr</em> for wrangling data</p></li>
<li><p><em>tmap</em> provides functions to allow us to plot high quality static or interactive maps using leaflet API</p></li>
<li><p><em>gifski</em> helps us to handle the GIF animation for tmap</p></li>
</ul>
</section>
<section id="section" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="section"><span class="header-section-number">2.2</span> </h2>
</section>
<section id="data-acquisition" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="data-acquisition"><span class="header-section-number">2.3</span> Data Acquisition</h2>
<p>The following datasets would be used to create the predictive models using conventional OLS and GWR methods for HDB Resale Prices.</p>
<table class="table">
<thead>
<tr class="header">
<th>Dataset Name</th>
<th>Remarks</th>
<th>Source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>URA Master Plan 2019 Subzone Boundary</td>
<td>For visualisation purposes</td>
<td><a href="https://data.gov.sg/dataset/master-plan-2019-subzone-boundary-no-sea">data.gov.sg</a></td>
</tr>
<tr class="even">
<td>URA Master Plan 2019 Planning Area Boundary</td>
<td>For visualisation purposes and extract Central AreW</td>
<td>Prof Kam</td>
</tr>
<tr class="odd">
<td>HDB Resale Flat Prices</td>
<td></td>
<td><a href="https://data.gov.sg/dataset/resale-flat-prices">data.gov.sg</a></td>
</tr>
<tr class="even">
<td>HDB MUP/HIP Status</td>
<td>Manual Web Scraping</td>
<td><a href="https://services2.hdb.gov.sg/webapp/BB33RESLSTATUS/BB33PReslStatusEnq.jsp">hdb.gov.sg</a></td>
</tr>
<tr class="odd">
<td>Childcare</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Kindergartens</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Eldercare</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Foodcourt/Hawker</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Supermarket</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Current and Future MRT/LRT Stations</td>
<td>Excludes Cross Region Line Punggol Branch</td>
<td><a href="https://data.gov.sg/dataset/master-plan-2019-rail-line-layer">data.gov.sg</a></td>
</tr>
<tr class="odd">
<td>Future MRT Station (CRL Punggol Branch)</td>
<td>Manually merge into MRT/LRT Station Dataset</td>
<td><a href="https://en.wikipedia.org/wiki/Elias_MRT_station">wikipedia.org : Elias MRT Stn</a><br>
<a href="https://en.wikipedia.org/wiki/Riviera_MRT/LRT_station">wikipedia.org : Riveria MRT Stn</a></td>
</tr>
<tr class="even">
<td>MRT/LRT Railway Line</td>
<td>Filter elevated sections of MRT line</td>
<td><a href="https://data.gov.sg/dataset/master-plan-2019-rail-line-layer">data.gov.sg</a></td>
</tr>
<tr class="odd">
<td>Bus Stops</td>
<td></td>
<td><a href="https://datamall.lta.gov.sg/content/dam/datamall/datasets/Geospatial/BusStopLocation.zip">datamall.lta.gov.sg</a></td>
</tr>
<tr class="even">
<td>Parks</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Primary Schools</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>CHAS Clinics</td>
<td>Extracted using Excel from PDF</td>
<td><a href="https://www.chas.sg/clinic-locator">chas.sg</a></td>
</tr>
</tbody>
</table>
</section>
<section id="data-fields" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="data-fields"><span class="header-section-number">2.4</span> Data Fields</h2>
<p>The data fields we are looking to incorporate and work with in our predictive models includes:</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Structural Factors</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Vocational Factors</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<ul>
<li><p>Area of the unit</p></li>
<li><p>Floor level</p></li>
<li><p>Remaining lease</p></li>
<li><p>Age of the unit</p></li>
<li><p>Main Upgrading Program (MUP) completed</p>
<ul>
<li><p>Extracted MUP and Home Improvment Programme (HIP) data from HDB website</p></li>
<li><p>For HDB units that has received HIP, their home value may be affected positively than a similar aged flat that has not received it</p></li>
</ul></li>
<li><p>Relative Age of Remaining Lead to Mean of Remaining Lease Left within 1km (+ if newer, - if older than area)</p>
<ul>
<li>If a HDB estate is relatively newer than HDBs in the area, homeowners might be enticed to buy newer HDB units in the area</li>
</ul></li>
<li><p>Apartment Type (eg. DBSS/Standard/Premium)</p>
<ul>
<li><p>Design Build Sell Scheme (DBSS) flats may call for a higher value than regular HDB flats as they are designed, build and sold by 3rd party developers although they are still HDB Flats. They are supposed to be better than premium flats</p></li>
<li><p>Premium flats which come with pre-installed fittings and furnishings over standard apartments which comes with none</p></li>
<li><p>Reference: https://www.teoalida.com/singapore/hdbflattypes/</p></li>
</ul></li>
<li><p>Apartment Multi-story (Maisonette or Loft)</p>
<ul>
<li>Some homeowners may prefer multi-story HDBs over single-story ones</li>
</ul></li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<ul>
<li><p>Proximity to CBD</p></li>
<li><p>Proximity to eldercare</p></li>
<li><p>Proximity to foodcourt/hawker centres</p></li>
<li><p>Proximity to MRT</p></li>
<li><p>Proximity to park</p></li>
<li><p>Proximity to good primary school</p></li>
<li><p>Proximity to shopping mall</p></li>
<li><p>Proximity to supermarket</p></li>
<li><p>Numbers of kindergartens within 350m</p></li>
<li><p>Numbers of childcare centres within 350m</p></li>
<li><p>Numbers of bus stop within 350m</p></li>
<li><p>Numbers of primary school within 1km</p></li>
<li><p>Proximity to Overhead MRT Line [noise concern] (if &lt;300m)</p>
<ul>
<li>The closer a HDB unit is to the MRT track, the home value might be affected due to noise concerns. We measure the proximity of HDB units using its euclidean distance to the closest part of the MRT track if it is less than 300metres away.</li>
</ul></li>
<li><p>Number of Future MRT stops within 800m (10min walk)</p>
<ul>
<li>Here, I want to explore how the resale values of HDBs could be affected by future MRT stations that are announced but not yet built. Home owners may be enticed to buy houses near future MRT lines in hopes that the house values will increase and also due to increased connectivity</li>
</ul></li>
<li><p>Number of LRT Stops within 350m</p>
<ul>
<li>The metric is necessary as LRT serves as a feeder within the town and is typically used short-haul vs MRT which is between various towns. The 350m metric is derived from Bus Stops differentiates the weight between a LRT stop and MRT stop especially if the LRT stop is far away from the MRT stop in towns such as Sengkang, Punggol and Pasir Ris</li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
</section>
<section id="data-wrangling-aspatial-data" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Data Wrangling: Aspatial Data</h1>
<p>&lt;list of datasets to import and handle&gt; and type of treatment</p>
<section id="importing-aspatial-data" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="importing-aspatial-data"><span class="header-section-number">3.1</span> Importing Aspatial Data</h2>
<p>In the various tabs below, we will import each individual dataset from its respective folders, with a brief explanation of the use cases of each dataset.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">CHAS Clinics</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">HDB HIP MUP</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">HDB Resale Flat Pricing</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>CHAS_raw <span class="ot">=</span> <span class="fu">read_xlsx</span>(<span class="st">"Take-Home_Ex03/aspatial/CHAS.xlsx"</span>) </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(CHAS_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,910
Columns: 7
$ Name                   &lt;chr&gt; "1 Aljunied Medical", "1 BISHAN MEDICAL", "1 ME…
$ Address                &lt;chr&gt; "Singapore 367874", "283, Bishan Street, #01- 1…
$ Postal                 &lt;chr&gt; "367874", "570283", "560410", "560704", "600135…
$ Telephone              &lt;chr&gt; NA, "64561600", "62517030", "96311728", "977017…
$ Type                   &lt;chr&gt; "Medical", "Medical, Cervical\r\nCancer Screen"…
$ Website                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ `Pap Test\r\nServices` &lt;chr&gt; "No", "Yes", "No", "No", "No", "No", "No", "No"…</code></pre>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>hdb_hip_mup_raw <span class="ot">=</span> <span class="fu">read_xlsx</span>(<span class="st">"Take-Home_Ex03/aspatial/HDB_HIP-MUP-20230312.xlsx"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(hdb_hip_mup_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,769
Columns: 4
$ BLK    &lt;chr&gt; "218", "219", "220", "221", "222", "223", "225", "226", "226B",…
$ STREET &lt;chr&gt; "ANG MO KIO AVE 1", "ANG MO KIO AVE 1", "ANG MO KIO AVE 1", "AN…
$ TYPE   &lt;chr&gt; "HIP", "HIP", "HIP", "HIP", "HIP", "HIP", "HIP", "HIP", "HIP", …
$ TOWN   &lt;chr&gt; "ANG MO KIO", "ANG MO KIO", "ANG MO KIO", "ANG MO KIO", "ANG MO…</code></pre>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>hdb_resale_raw <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"Take-Home_Ex03/aspatial/resale-flat-prices-based-on-registration-date-from-jan-2017-onwards.csv"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(hdb_resale_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 148,373
Columns: 11
$ month               &lt;chr&gt; "2017-01", "2017-01", "2017-01", "2017-01", "2017-…
$ town                &lt;chr&gt; "ANG MO KIO", "ANG MO KIO", "ANG MO KIO", "ANG MO …
$ flat_type           &lt;chr&gt; "2 ROOM", "3 ROOM", "3 ROOM", "3 ROOM", "3 ROOM", …
$ block               &lt;chr&gt; "406", "108", "602", "465", "601", "150", "447", "…
$ street_name         &lt;chr&gt; "ANG MO KIO AVE 10", "ANG MO KIO AVE 4", "ANG MO K…
$ storey_range        &lt;chr&gt; "10 TO 12", "01 TO 03", "01 TO 03", "04 TO 06", "0…
$ floor_area_sqm      &lt;dbl&gt; 44, 67, 67, 68, 67, 68, 68, 67, 68, 67, 68, 67, 67…
$ flat_model          &lt;chr&gt; "Improved", "New Generation", "New Generation", "N…
$ lease_commence_date &lt;dbl&gt; 1979, 1978, 1980, 1980, 1980, 1981, 1979, 1976, 19…
$ remaining_lease     &lt;chr&gt; "61 years 04 months", "60 years 07 months", "62 ye…
$ resale_price        &lt;dbl&gt; 232000, 250000, 262000, 265000, 265000, 275000, 28…</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="filtering-hdb-resale-flat-data" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="filtering-hdb-resale-flat-data"><span class="header-section-number">3.2</span> Filtering HDB Resale Flat Data</h2>
<p>We will now filter the HDB Resale to focus on the target months, Jan 2020 to Feb 2023, and 5 Room HDBs to construct the predictive model. We will use:</p>
<ul>
<li><p><em>filter()</em> to filter out the desired room type and months</p></li>
<li><p><em>unique()</em> to check if the desired room type and months has been filtered correctly</p></li>
<li><p><em>glimpse()</em> to check the data structure of the filtered dataset</p></li>
</ul>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Filter Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Glimpse Variables</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Unique Month and Flat_Type</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>hdb_resale <span class="ot">&lt;-</span> <span class="fu">filter</span>(hdb_resale_raw, flat_type <span class="sc">==</span> <span class="st">"5 ROOM"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(month <span class="sc">&gt;=</span> <span class="st">"2020-01"</span> <span class="sc">&amp;</span> month <span class="sc">&lt;=</span> <span class="st">"2023-02"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(hdb_resale)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 21,500
Columns: 11
$ month               &lt;chr&gt; "2020-01", "2020-01", "2020-01", "2020-01", "2020-…
$ town                &lt;chr&gt; "ANG MO KIO", "ANG MO KIO", "ANG MO KIO", "ANG MO …
$ flat_type           &lt;chr&gt; "5 ROOM", "5 ROOM", "5 ROOM", "5 ROOM", "5 ROOM", …
$ block               &lt;chr&gt; "439", "401", "439", "458", "101", "423", "501", "…
$ street_name         &lt;chr&gt; "ANG MO KIO AVE 10", "ANG MO KIO AVE 10", "ANG MO …
$ storey_range        &lt;chr&gt; "01 TO 03", "01 TO 03", "10 TO 12", "16 TO 18", "0…
$ floor_area_sqm      &lt;dbl&gt; 119, 119, 119, 120, 117, 133, 121, 118, 117, 110, …
$ flat_model          &lt;chr&gt; "Improved", "Improved", "Improved", "Improved", "S…
$ lease_commence_date &lt;dbl&gt; 1979, 1979, 1979, 1980, 1978, 1993, 1981, 1980, 19…
$ remaining_lease     &lt;chr&gt; "58 years 01 month", "58 years 04 months", "58 yea…
$ resale_price        &lt;dbl&gt; 485000, 465000, 535000, 580000, 450000, 700000, 53…</code></pre>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(hdb_resale<span class="sc">$</span>month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2020-01" "2020-02" "2020-03" "2020-04" "2020-05" "2020-06" "2020-07"
 [8] "2020-08" "2020-09" "2020-10" "2020-11" "2020-12" "2021-01" "2021-02"
[15] "2021-03" "2021-04" "2021-05" "2021-06" "2021-07" "2021-08" "2021-09"
[22] "2021-10" "2021-11" "2021-12" "2022-01" "2022-02" "2022-03" "2022-04"
[29] "2022-05" "2022-06" "2022-07" "2022-08" "2022-09" "2022-10" "2022-11"
[36] "2022-12" "2023-01" "2023-02"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(hdb_resale<span class="sc">$</span>flat_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "5 ROOM"</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>From the code and results in the respective tabs (Glimpse Variables and Unique Month and Flat Type), we can see that:</p>
<ul>
<li><p>There are <strong>21,500 transactions</strong> between Jan 2020 to Feb 2023.</p></li>
<li><p>The <code>month</code> and <code>flat_type</code> has been extracted correctly.</p></li>
</ul>
</section>
<section id="transforming-aspatial-data---create-new-columns-with-values" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="transforming-aspatial-data---create-new-columns-with-values"><span class="header-section-number">3.3</span> Transforming Aspatial Data - Create New Columns with Values</h2>
<p>Next, we transform the Aspatial Datasets into more meaningful values:</p>
<ol type="1">
<li>CHAS Clinics - There is nothing to transform, since as noted earlier, there is already a <code>postal</code> column provided</li>
<li>HDB HIP MUP - We need to obtain the address for geocoding (obtaining the SVY21 <code>X</code> and <code>Y</code> coordinates) by combining the <code>BLK</code> and <code>STREET</code> fields</li>
<li>HDB Resale Flat Pricing - We need to obtain the address for geocoding (obtaining the SVY21 <code>X</code> and <code>Y</code> coordinates) by combining the <code>block</code> and <code>street_name</code> fields, and also convert the remaining lease from the form of <code>YY years MM months</code> to a more machine-readable format (ie. <code>MM</code> months)</li>
</ol>
<p>The code chunks will assist with the transformation using <em>mutate()</em>&nbsp;further explained below:</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">HDB HIP MUP</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">HDB Resale Flat Pricing</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<p>We <em>mutate()</em> the <code>hdb_hip_mup_raw</code> dataset by pasting the <code>BLK</code> and <code>STREET</code> columns together into the <code>address</code> column to a new sf dataframe called <code>hdb_hip_mup_trans</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>hdb_hip_mup_trans <span class="ot">&lt;-</span> hdb_hip_mup_raw <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(hdb_hip_mup_raw, <span class="at">address =</span> <span class="fu">paste</span>(BLK, STREET))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<p>We <em>mutate()</em> the <code>hdb_resale</code> dataset by pasting the <code>block</code> and <code>street_name</code> columns together into the <code>address</code> column to a new variable called <code>hdb_hip_mup_trans</code>. We also used <em>mutate()</em> to modify the existing <code>remaining_lease</code> data to the form of <code>MM</code>.</p>
<p>The first section of the code <code>as.integer(str_sub(remaining_lease, 0, 2)) * 12</code> extracts the year numbers as <code>YY</code> and converts it into string and then multiplying it by 12 to convert it to number of months.</p>
<p>The next part of the code checks if there is any numerical <code>MM</code> (month) present, if there is no month present, the value will be <code>NA</code> and 0 will be assigned in place of <code>NA</code>. Else, if present, we take the <code>MM</code>.</p>
<p>The integer month is summed with the year in months to form this column <code>remaining_lease_mths</code> in the new sf dataframe <code>hdb_resale_trans</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>hdb_resale_trans <span class="ot">&lt;-</span> hdb_resale <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(hdb_resale, <span class="at">address =</span> <span class="fu">paste</span>(block, street_name)) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(hdb_resale, <span class="at">remaining_lease_mths =</span> (<span class="fu">as.integer</span>(<span class="fu">str_sub</span>(remaining_lease, <span class="dv">0</span>, <span class="dv">2</span>)) <span class="sc">*</span> <span class="dv">12</span> <span class="sc">+</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(<span class="fu">as.integer</span>(<span class="fu">str_sub</span>(remaining_lease, <span class="dv">9</span>, <span class="dv">11</span>))), <span class="dv">0</span>,  <span class="fu">as.integer</span>(<span class="fu">str_sub</span>(remaining_lease, <span class="dv">9</span>, <span class="dv">11</span>)))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="retrieving-svy21-coordinate-of-addresses" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="retrieving-svy21-coordinate-of-addresses"><span class="header-section-number">3.4</span> Retrieving SVY21 Coordinate of Addresses</h2>
<p>This section will focus on retrieving relavant data such as coordinates of the address which we could use in further spatial analysis to obtain proximity to locational factors later.</p>
<p>We are interested in obtaining the <code>SVY21</code> <code>X</code> and <code>Y</code> coordinates as they are in the Projected Coordinate System, which allows us to perform measure directly without any additional transformations.</p>
<section id="create-a-list-storing-unique-addressespostal-codes" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="create-a-list-storing-unique-addressespostal-codes"><span class="header-section-number">3.4.1</span> Create a List Storing Unique Addresses/Postal Codes</h3>
<p>Since some addresses/postal codes are duplicated, we store and check unique addresses to reduce the amount of <code>GET</code> requests sent to the OneMap API:</p>
<ol type="1">
<li>Faster</li>
<li>OneMap API has a rate limit of 250 API calls a minute</li>
<li>It makes it easier for us to locate errors and correct it</li>
</ol>
<p>Here, we will obtain a list of unique addresses/postal codes for each data set.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">CHAS Clinics</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">HDB HIP MUP</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">HDB Resale Flat Pricing</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>addr_lst.chas <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(CHAS_raw<span class="sc">$</span>Postal))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>addr_lst.hipmup <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(hdb_hip_mup_trans<span class="sc">$</span>address))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>addr_lst.resale <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(hdb_resale_trans<span class="sc">$</span>address))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="section-1" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="section-1"><span class="header-section-number">3.5</span> </h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#tmap_mode("view")</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#tm_shape(hdb_resale) +</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#  tm_dots("resale_price",</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#          popup.vars=c("month"="month", "town"="town", "block" = "block", "street_name" = "street_name"))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>mpsz <span class="ot">=</span> <span class="fu">st_read</span>(<span class="at">dsn =</span> <span class="st">"Take-Home_Ex03/geospatial"</span>, <span class="at">layer=</span><span class="st">"MPSZ-2019"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `MPSZ-2019' from data source 
  `C:\renjie-teo\IS415-GAA\exercises\Take-Home_Ex03\geospatial' 
  using driver `ESRI Shapefile'
Simple feature collection with 332 features and 6 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 103.6057 ymin: 1.158699 xmax: 104.0885 ymax: 1.470775
Geodetic CRS:  WGS 84</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Ren Jie’s IS415 Geospatial Journal</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/renjie-teo">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/renjieteo/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>